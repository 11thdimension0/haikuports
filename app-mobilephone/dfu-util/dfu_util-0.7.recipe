SUMMARY="Device Firmware Upgrade Utilities"
DESCRIPTION="dfu-util is a host side implementation of the DFU 1.0 and DFU 1.1 \
specifications of the USB forum. DFU is intended to download and upload \
firmware to/from devices connected over USB. It ranges from small devices like \
micro-controller boards to mobile phones. Using dfu-util you can download \
firmware to your DFU-enabled device or upload firmware from it. dfu-util has \
been tested with the Openmoko Neo1973 and Freerunner and many other devices."
HOMEPAGE="http://dfu-util.gnumonks.org"
ARCHITECTURES="x86_gcc2"
REVISION="1"
LICENSE="GNU GPL v2"
COPYRIGHT="2010-2012 Stefan Schmidt"

SRC_URI="${HOMEPAGE}/releases/dfu-util-$portVersion.tar.gz"
CHECKSUM_SHA256="f52a2a5489fbf9f3204a6ada05e0b47ee322e19d81c712e0c58a332d80ec3eab"
SOURCE_DIR="dfu-util-$portVersion"

PROVIDES="
	dfu_util = $portVersion
	cmd:dfu_suffix
	cmd:dfu_util
"

REQUIRES="
	haiku >= $haikuVersion
	lib:libusb_1.0
"

BUILD_REQUIRES="
	devel:libusb_1.0
"

BUILD_PREREQUIRES="
	haiku_devel >= $haikuVersion
	cmd:awk
	cmd:gcc
	cmd:make
	cmd:pkg_config
"

BUILD()
{
	runConfigure ./configure
	make $jobArgs
}

INSTALL()
{
	make install
}
