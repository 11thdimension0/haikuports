SUMMARY="Ogg Vorbis audio compression format library"
DESCRIPTION="Ogg Vorbis is a fully open, non-proprietary, patent-and-royalty-free, general-purpose compressed audio format for mid to high quality (8kHz-48.0kHz, 16+ bit, polyphonic) audio and music at fixed and variable bitrates from 16 to 128 kbps/channel. This places Vorbis in the same competitive class as audio representations such as MPEG-4 (AAC), and similar to, but higher performance than MPEG-1/2 audio layer 3, MPEG-4 audio (TwinVQ), WMA and PAC.

The bitstream format for Vorbis I was frozen Monday, May 8th 2000. All bitstreams encoded since will remain compatible with all future releases of Vorbis." 
HOMEPAGE="http://www.xiph.org/vorbis/" 
LICENSE="BSD (3-clause)"
COPYRIGHT="1994-2010 Xiph.Org Foundation"
SRC_URI="http://downloads.xiph.org/releases/vorbis/libvorbis-1.3.2.tar.gz"
CHECKSUM_MD5="c870b9bd5858a0ecb5275c14486d9554"
REVISION="1"
ARCHITECTURES="x86_gcc2 ?x86"

PATCHES="libvorbis-1.3.2.patchset"

PROVIDES="
	libvorbis = $portVersion
	lib:libvorbis = 0.4.5 compat >= 0
	lib:libvorbisenc = 2.0.8 compat >= 2
	lib:libvorbisfile = 3.3.4 compat >= 3
	"
REQUIRES="
	haiku >= $haikuVersion
	lib:libogg
	"
BUILD_REQUIRES="
	devel:libogg
	"
BUILD_PREREQUIRES="
	haiku_devel >= $haikuVersion
	cmd:aclocal
	cmd:autoconf
	cmd:automake
	cmd:gcc
	cmd:ld
	cmd:libtoolize
	cmd:make
	cmd:pkg_config
	"

SOURCE_DIR="$portVersionedName"

BUILD()
{
	libtoolize -fci
	mkdir -p m4
	aclocal --install -I m4
	autoconf
	automake
	runConfigure ./configure \
		--docdir $developDocDir
	make $jobArgs
}

INSTALL()
{
	make install

	prepareInstalledDevelLibs libvorbis libvorbisenc libvorbisfile
	fixPkgconfig

	# devel package
	packageEntries devel \
		$dataDir \
		$developDir
}

# ----- devel package -------------------------------------------------------

SUMMARY_devel="The libvorbis development files"
PROVIDES_devel="
	libvorbis_devel = $portVersion
	devel:libvorbis = 0.4.5 compat >= 0
	devel:libvorbisenc = 2.0.8 compat >= 2
	devel:libvorbisfile = 3.3.4 compat >= 3
	"
REQUIRES_devel="
	libvorbis == $portVersion
	"
