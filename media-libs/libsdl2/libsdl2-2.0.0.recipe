SUMMARY="Simple Direct Media Layer 2.0"
DESCRIPTION="SDL 2.0"
HOMEPAGE="http://www.libsdl.org/"
SRC_URI="http://www.libsdl.org/release/SDL2-2.0.0.tar.gz"
CHECKSUM_MD5="beec89afb6edcc6f0abc4114f2e6bcf7"
REVISION="1"
LICENSE="Zlib"
COPYRIGHT="1997-2013 Sam Lantinga"

ARCHITECTURES="x86 x86_gcc2"

PROVIDES="
	lib:libsdl2 = $portVersion compat >= 2.0
	cmd:sdl2_config = $portVersion compat >= 2.0
	lib:libsdl2 = $portVersion compat >= 2.0
	lib:libSDL2 = $portVersion compat >= 2.0
	lib:libSDL2_2.0 = 0.0.0 compat >= 0.12
	"

REQUIRES="
	haiku
	lib:libGL
	lib:libroot
	lib:libbe
	lib:libmedia
	lib:libgame
	lib:libdevice
	lib:libtextencoding
	"

BUILD_REQUIRES="
	lib:libpng
	lib:libjpeg
	lib:libtiff
	"

BUILD_PREREQUIRES="
	cmd:autoconf
	cmd:libtool
	cmd:aclocal
	cmd:make
	cmd:gcc
	cmd:ld
	"

SOURCE_DIR="SDL2-$portVersion"

BUILD()
{
	runConfigure ./configure
	make $jobArgs
}

INSTALL()
{
	make install

	# devel package
	prepareInstalledDevelLibs \
		libSDL2 \
		libSDL2main \
		libSDL2_test
		
	fixPkgconfig
	
	packageEntries devel \
			$developDir
}

# ----- devel package -------------------------------------
PROVIDES_devel="
	cmd:sdl2_config = $portVersion compat >= 2.0
	devel:libSDL2_2.0 = 0.0.0 compat >= 0
	devel:libSDL2 = 0.0.0 compat >= 0
	devel:libSDL2main = 0.12.0 compat >= 0
	devel:libSDL2_test = 0.0.0 compat >= 0
	"

REQUIRES_devel="
	libsdl2 == $portVersion base
	"

