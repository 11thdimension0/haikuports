diff -urN xinetd-2.3.14/configure.in xinetd-2.3.14-haiku/configure.in
--- xinetd-2.3.14/configure.in	2005-03-30 23:15:28.060555264 +0000
+++ xinetd-2.3.14-haiku/configure.in	2010-10-07 05:09:43.000000000 +0000
@@ -7,9 +7,9 @@
 AC_PROG_RANLIB
 
 AC_CHECK_LIB(compat, main)
-AC_SEARCH_LIBS(gethostbyname, nsl socket resolv)
-AC_SEARCH_LIBS(getnameinfo, nsl socket resolv)
-AC_SEARCH_LIBS(inet_ntop, nsl socket resolv)
+AC_SEARCH_LIBS(gethostbyname, nsl socket resolv network)
+AC_SEARCH_LIBS(getnameinfo, nsl socket resolv network)
+AC_SEARCH_LIBS(inet_ntop, nsl socket resolv network)
 AC_CHECK_FUNCS(getnameinfo inet_ntop)
 AC_CHECK_FUNCS(difftime, ,
    AC_CHECK_LIB(m, difftime))
@@ -27,8 +27,9 @@
       AC_CHECK_LIB(nsl, socket)))
 AC_CHECK_FUNC(inet_aton, ,
 	AC_CHECK_LIB(nsl, inet_aton, ,
+           AC_CHECK_LIB(network, inet_aton, ,
 		AC_CHECK_LIB(socket, inet_aton, ,
-			AC_CHECK_LIB(resolv, inet_aton, ,[AC_DEFINE(NO_INET_ATON)]))))
+			AC_CHECK_LIB(resolv, inet_aton, ,[AC_DEFINE(NO_INET_ATON)])))))
 AC_CHECK_FUNC(setenv,[AC_DEFINE(HAVE_SETENV)])
 AC_CHECK_FUNC(strsignal, [AC_DEFINE(HAVE_STRSIGNAL)])
 AC_CHECK_LIB(c, sys_siglist, [AC_DEFINE(HAVE_SYS_SIGLIST)])
diff -urN xinetd-2.3.14/libs/src/sio/siosup.c xinetd-2.3.14-haiku/libs/src/sio/siosup.c
--- xinetd-2.3.14/libs/src/sio/siosup.c	2003-09-06 14:41:59.000262144 +0000
+++ xinetd-2.3.14-haiku/libs/src/sio/siosup.c	2010-10-07 05:12:22.000000000 +0000
@@ -13,7 +13,7 @@
 #include <unistd.h>
 #include <syslog.h>
 
-#ifdef _APPLE_
+#if defined _APPLE_ || defined __HAIKU__
 #undef HAVE_MMAP
 #endif
 
