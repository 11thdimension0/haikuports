diff -up mercurial-2.2/mercurial/ui.py.orig mercurial-2.2/mercurial/ui.py
--- mercurial-2.2/mercurial/ui.py.orig	2012-05-02 21:41:24.391643136 -0600
+++ mercurial-2.2/mercurial/ui.py	2012-05-02 21:42:15.730595328 -0600
@@ -693,7 +693,7 @@ class ui(object):
             # avoid confusion.
             editor = 'E'
         else:
-            editor = 'vi'
+            editor = 'nano'
         return (os.environ.get("HGEDITOR") or
                 self.config("ui", "editor") or
                 os.environ.get("VISUAL") or
