diff -Naur zsh-4.3.10/Functions/Newuser/zsh-newuser-install zsh-4.3.10.haiku/Functions/Newuser/zsh-newuser-install
--- zsh-4.3.10/Functions/Newuser/zsh-newuser-install	2008-07-18 11:46:20.056885248 +0000
+++ zsh-4.3.10.haiku/Functions/Newuser/zsh-newuser-install	2010-08-18 10:40:15.840957952 +0000
@@ -10,14 +10,17 @@
 # How the function will be referred to.
 local myname=zsh-newuser-install
 
-# Quick test not requiring any setting up.
-# Don't run if we're root.  (These variables are provided by the shell.)
-if (( EUID == 0 || UID == 0 )); then
-  if [[ $1 = -f ]]; then
-    print -r "$myname: won't run as root.  Read the manual." >&2
-  fi
-  return 1
-fi
+# Haiku OS specific: We want to perform newuser configuration for 
+# zero UID too! ;-) So we have to disable it by patch.
+#
+## Quick test not requiring any setting up.
+## Don't run if we're root.  (These variables are provided by the shell.)
+# if (( EUID == 0 || UID == 0 )); then
+#  if [[ $1 = -f ]]; then
+#    print -r "$myname: won't run as root.  Read the manual." >&2
+#  fi
+#  return 1
+# fi
 
 # The directory in which to look for and save .zshrc.
 local zd=${ZDOTDIR:-$HOME}
diff -Naur zsh-4.3.10/config.guess zsh-4.3.10.haiku/config.guess
--- zsh-4.3.10/config.guess	2006-11-14 12:11:33.053477376 +0000
+++ zsh-4.3.10.haiku/config.guess	2010-08-17 13:50:09.018350080 +0000
@@ -1199,6 +1199,9 @@
     BePC:BeOS:*:*)	# BeOS running on Intel PC compatible.
 	echo i586-pc-beos
 	exit ;;
+    BePC:Haiku:*:*)	# Haiku OS running on Intel PC compatible.
+	echo i586-pc-haiku
+	exit ;;
     SX-4:SUPER-UX:*:*)
 	echo sx4-nec-superux${UNAME_RELEASE}
 	exit ;;
diff -Naur zsh-4.3.10/configure.ac zsh-4.3.10.haiku/configure.ac
--- zsh-4.3.10/configure.ac	2009-06-01 09:03:35.044564480 +0000
+++ zsh-4.3.10.haiku/configure.ac	2010-08-18 10:30:31.476053504 +0000
@@ -762,8 +762,8 @@
   AC_CHECK_LIB(cap, cap_get_proc)
 fi
 
-AC_CHECK_LIB(socket, socket)
-AC_SEARCH_LIBS(gethostbyname2, bind)
+AC_SEARCH_LIBS(socket, socket network)
+AC_SEARCH_LIBS(gethostbyname2, bind network)
 
 case $LIBS in
   *-lbind*)
