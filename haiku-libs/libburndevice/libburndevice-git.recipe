SUMMARY="A disc burning library for Haiku"
DESCRIPTION="
LibBurnDevice is a disc burning library for Haiku
"

HOMEPAGE="https://github.com/HaikuArchives/Lava"
SRC_URI="git+https://github.com/HaikuArchives/Lava.git"

REVISION="1"

LICENSE="Public Domain"
COPYRIGHT="
	2007, 2010 Team MAUI
	2003-2006 Haiku Inc.
	"

ARCHITECTURES="x86_gcc2 x86 ?x86_64"
SECONDARY_ARCHITECTRUES="x86_gcc2 x86"

PROVIDES="
	libburndevice = $portVersion
	lib:libburndevice$secondaryArchSuffix = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix >= $haikuVersion
	cmd:cdrtools
	"
BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel >= $haikuVersion
	"
BUILD_PREREQUIRES="
	cmd:gcc$secondaryArchSuffix
	cmd:ld$secondaryArchSuffix
	cmd:make
	cmd:mkdepend
	makefile_engine"
	
BUILD()
{
	exit 0
	cd LibBurnDevice
	make TYPE=SHARED OBJ_DIR=objects-shared \
		BUILDHOME=$(finddir B_SYSTEM_DEVELOP_DIRECTORY)
		
	make TYPE=STATIC OBJ_DIR=objects-static \
		BUILDHOME=$(finddir B_SYSTEM_DEVELOP_DIRECTORY)	
}

INSTALL()
{
	mkdir -p $libDir $developLibDir $includeDir/burndevice
	
	cd LibBurnDevice
	
	cp objects-static/libburndevice.a $developLibDir
	cp objects-shared/libburndevice $libDir/libburndevice.so
	
	cp BurnDevice.h $includeDir/burndevice
	
	symlinkRelative -s $libDir/libburndevice.so $developLibDir
	
	packageEntries devel \
		$developLibDir \
		$includeDir	
	
}

# -------- devel package --------------------------------------------------

PROVIDES_devel="
	libburndevice${secondaryArchSuffix}_devel = $portVersion
	devel:libburndevice$secondaryArchSuffix = $portVersion
	"
REQUIRES_devel="
	libburndevice$secondaryArchSuffix == $portVersion base
	"
