SUMMARY="A tool for network monitoring and data acquisition"
DESCRIPTION="
Tcpdump prints out a description of the contents of packets on a
network interface that match a boolean expression."
HOMEPAGE="http://www.tcpdump.org"
SRC_URI="http://www.tcpdump.org/release/${portName}-${portVersion}.tar.gz"
CHECKSUM_SHA256="1f87fb652ce996d41e7a06c601bc6ea29b13fee922945b23770c29490f1d8ace"
LICENSE="BSD (3-clause)"
COPYRIGHT="The Tcpdump Group"
REVISION="1"

ARCHITECTURES="x86_gcc2 x86 x86_64"

PROVIDES="
	tcpdump = $portVersion
	cmd:tcpdump
	"
REQUIRES="
	haiku
	"
BUILD_REQUIRES="
	haiku_devel
	devel:libpcap
	"
BUILD_PREREQUIRES="
	cmd:awk
	cmd:gcc
	cmd:make
	cmd:autoconf
	cmd:automake
	"

PATCHES="tcpdump-$portVersion.patchset"

BUILD()
{
	autoreconf -fi
	runConfigure ./configure
	make
}

INSTALL()
{
	make install
	rm $binDir/tcpdump.$portVersion
}

TEST()
{
	make check
}
