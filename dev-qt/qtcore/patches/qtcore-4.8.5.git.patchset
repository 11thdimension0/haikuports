From b6cf096768020b93ce227b0ecc662a2828db2560 Mon Sep 17 00:00:00 2001
From: Chris Roberts <cpr420@gmail.com>
Date: Thu, 14 Nov 2013 15:34:00 -0700
Subject: Adjust font paths for updated Haiku fs layout


diff --git a/src/gui/text/qfontdatabase_haiku.cpp b/src/gui/text/qfontdatabase_haiku.cpp
index c1b9526..f7b6dd7 100644
--- a/src/gui/text/qfontdatabase_haiku.cpp
+++ b/src/gui/text/qfontdatabase_haiku.cpp
@@ -50,9 +50,10 @@ static void initializeDb()
     FT_Library lib = qt_getFreetype();
 
 	directory_which FontDirs[] = {
-		B_BEOS_FONTS_DIRECTORY,
-		B_COMMON_FONTS_DIRECTORY,
-		B_USER_FONTS_DIRECTORY
+		B_SYSTEM_FONTS_DIRECTORY,
+		B_SYSTEM_NONPACKAGED_FONTS_DIRECTORY,
+		B_USER_FONTS_DIRECTORY,
+		B_USER_NONPACKAGED_FONTS_DIRECTORY
 	};
 	
 	
-- 
1.8.3.4


From 144331a82b7ea68955f2e28a04eda4e6b6fbaa77 Mon Sep 17 00:00:00 2001
From: Chris Roberts <cpr420@gmail.com>
Date: Fri, 15 Nov 2013 19:50:49 -0700
Subject: Remove check for /boot/common/bin/qsystray


diff --git a/src/gui/util/qsystemtrayicon_haiku.cpp b/src/gui/util/qsystemtrayicon_haiku.cpp
index 2167476..7f1b1f4 100644
--- a/src/gui/util/qsystemtrayicon_haiku.cpp
+++ b/src/gui/util/qsystemtrayicon_haiku.cpp
@@ -449,8 +449,9 @@ void QSystemTrayIconPrivate::updateToolTip_sys()
 
 bool QSystemTrayIconPrivate::isSystemTrayAvailable_sys()
 {	
-	QFileInfo qsystrayfile("/boot/common/bin/qsystray");	
-	return qsystrayfile.exists();
+//	QFileInfo qsystrayfile("/boot/common/bin/qsystray");	
+//	return qsystrayfile.exists();
+	return true;
 }
 
 bool QSystemTrayIconPrivate::supportsMessages_sys()
-- 
1.8.3.4

