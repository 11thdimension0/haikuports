SUMMARY="Midnight Commander â€” a powerful file manager."
DESCRIPTION="
GNU Midnight Commander is a text-mode full-screen file manager. It uses a two panel interface and a subshell for command execution. It includes an internal editor with syntax highlighting and an internal viewer with support for binary files. Also included is Virtual Filesystem (VFS), that allows files on remote systems (e.g. FTP, SSH servers) and files inside archives to be manipulated like real files."
HOMEPAGE="http://www.midnight-commander.org/" 
SRC_URI="git+https://github.com/MidnightCommander/mc#d26b7dd6ee49211f4d18fdfbe193023a3e480389"
REVISION="1"
LICENSE="GNU GPL v2"
COPYRIGHT="2007 MC Team"
ARCHITECTURES="x86 x86_gcc2"
PATCHES="mc.patch"
SOURCE_DIR="mc-4.8.11"
COOK="Maxim Sokhatsky <maxim@synrc.com>"

GLOBAL_WRITABLE_FILES="
	settings/mc directory keep-old
	"

PROVIDES="
	mc = $portVersion
	cmd:mc = $portVersion
	cmd:mcedit = $portVersion
	cmd:mcdiff = $portVersion
	cmd:mcview = $portVersion
	"

REQUIRES="
	haiku >= $haikuVersion
	lib:libncurses
	lib:libintl
	lib:libiconv
	lib:libglib_2.0
	"

BUILD_REQUIRES="
	devel:libncurses
	devel:libintl
	devel:libiconv
	devel:libglib_2.0
	"

BUILD_PREREQUIRES="
	cmd:pkg_config
	haiku_devel >= $haikuVersion
	cmd:gettext
	cmd:make
	cmd:tar
	cmd:libtoolize
	cmd:aclocal
	cmd:autom4te
	cmd:autoconf
	cmd:automake
	cmd:autoheader
	cmd:find
	cmd:gcc
	"

BUILD()
{
	autogen.sh
	runConfigure configure --prefix="$prefix" --datarootdir="$dataRootDir" --with-screen=ncurses
	make
}

INSTALL()
{
	make install 
}
