DESCRIPTION="Whisper BeNet aims to provide a VoIP solution to the Haiku Platform. It was ported from ZETA."
SUMMARY="VoIP for Haiku"
COPYRIGHT="
	1998-2001 the BeNet team
	2004-2006 Bernd Korz & Oliver Ruiz Dorantes oliver.ruiz.dorantes@gmail.com
	2008 Oliver Ruiz Dorantes oliver.ruiz.dorantes@gmail.com
	"
LICENSE="MIT"
HOMEPAGE="https://github.com/HaikuArchives/WhisperBeNet"
SRC_URI="git+https://github.com/HaikuArchives/WhisperBeNet#832724f"
REVISION="1"

ARCHITECTURES="x86_gcc2 x86 ?x86_64"

PROVIDES="
	whisper = $portVersion
	app:whisper = $portVersion
	"

BUILD_REQUIRES="
	haiku_devel >= $haikuVersion
	"

BUILD_PREREQUIRES="
	makefile_engine
	cmd:gcc
	cmd:make
	cmd:mkdepend
	"

USER_SETTINGS_FILES="
	settings/BeNet directory"

BUILD()
{
	rc -o BeNet.rsrc BeNet.rdef
	make -j$jobArgs BUILDHOME=`finddir B_SYSTEM_DEVELOP_DIRECTORY` LIBSTDC=stdc++.r4
}

INSTALL()
{
	architecture=`echo $buildArchitecture | sed 's/_/-/g'`
	
	mkdir -p $appsDir
	
	cd objects.$architecture-debug
	cp Whisper $appsDir
	addAppDeskbarSymlink $appsDir/Whisper
}
