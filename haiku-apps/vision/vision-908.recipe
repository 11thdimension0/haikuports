SUMMARY="IRC client for Haiku" 
DESCRIPTION="Vision is an IRC client for Haiku." 
HOMEPAGE="http://vision.sourceforge.net/" 
SRC_URI="svn+http://vision.svn.sourceforge.net/svnroot/vision/trunk#908"
LICENSE="MPL v1.1"
COPYRIGHT="1999-2010 The Vision Team"
REVISION="2"
ARCHITECTURES="x86_gcc2 ?x86"

if [ $architecture != x86_gcc2 ]; then
	PATCHES="vision-908-gcc4.patch"
fi

PROVIDES="
	vision = $portVersion
	"
REQUIRES="
	haiku >= $haikuVersion
	"
BUILD_REQUIRES="
	cmd:gcc
	cmd:ld
	cmd:make
	"
BUILD_PREREQUIRES="
	haiku_devel >= $haikuVersion
	"

SOURCE_DIR="$portVersionedName"

BUILD()
{
	cd Vision
	make	
}

INSTALL()
{
	visionDir=$appsDir/Vision
	visionSettingsDir=$settingsDir/Vision
	mkdir -p $visionDir
	mkdir -p $visionSettingsDir

	cp -a $portDir/VisionSettings $visionSettingsDir

	cd Vision
	cp Vision $visionDir
	cd data
	copyattr -d -r -x .svn * $visionDir
}
