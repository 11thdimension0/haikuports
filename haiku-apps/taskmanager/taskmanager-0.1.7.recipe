SUMMARY="Cool NT-like system and process monitor"
DESCRIPTION="TaskManager displays all relevant system information in three tabs in its \
main window. These are:\

 * The Usage tab: Displays general system information like memory and CPU usage.
 * The Process tab: Displays all runnig processes (teams) in your system, their\
  memory and CPU usage, team id etc. You can quit teams, kill them and change \
  their priority.
 * The Performance tab: This is a configurable graphical display for various \
 system information including your motherboard temperature (X86 version only, \
 only available if you have a LM78 motherboard sensor installed).
	"
HOMEPAGE="https://github.com/HaikuArchives/TaskManager"
SRC_URI="git://github.com/diger/taskmanager#eb9254d295fd4352e0ef6de3fc6d74d340a60171"
COPYRIGHT="Copyright 2000 by Thomas Krammer"
LICENSE="Apache v2"
REVISION="1"

ARCHITECTURES="x86_gcc2 x86 ?x86_64"
SECONDARY_ARCHITECTURES="x86_gcc2 x86"

PROVIDES="
	taskmanager = $portVersion
	"
REQUIRES=""

BUILD_REQUIRES="haiku >= $haikuVersion"

BUILD_PREREQUIRES="
	haiku${secondaryArchSuffix}_devel >= $haikuVersion
	makefile_engine
	cmd:gcc$secondaryArchSuffix
	cmd:make
	cmd:mkdepend
	"

PATCHES="taskmanager-$portVersion.patch"

BUILD()
{
	cd source
	make $jobArgs OBJ_DIR=objects
	
	cd add_ons/default
	make $jobArgs OBJ_DIR=objects	
}

INSTALL()
{
	mkdir -p $appsDir/TaskManager/add_ons
	cp source/objects/TaskManager $appsDir/TaskManager/TaskManager
	cp source/add_ons/default/objects/taskmanager_default.so $appsDir/TaskManager/add_ons

	addAppDeskbarSymlink $appsDir/TaskManager/TaskManager
}
