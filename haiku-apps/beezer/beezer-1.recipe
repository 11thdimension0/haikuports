SUMMARY="Beezer is an archive manager for Haiku, similar to winzip" 
DESCRIPTION="
	Beezer is an archive manager for Haiku. It can extract and browse,
	create and add to archive files. In addition, Beezer can split and rejoin
	files.

	It can extract 7zip, arj, bzip2, gzip, lha, rar, tar, xz and zip files.
	It can create 7zip, bzip2, gzip, tar and zip files.
	"
HOMEPAGE="https://bitbucket.org/cpr/beezer" 
SRC_URI="https://bitbucket.org/cpr/beezer/get/e6e2c619aa4a.zip"
CHECKSUM_MD5="79aac5ae3eac5abcfe0d197730723284"

LICENSE="BSD (3-clause)"
COPYRIGHT="
	2009 Ramshankar (aka Teknomancer)
	2011-2012 Chris Roberts
	"
REVISION="1"
ARCHITECTURES="x86_gcc2 ?x86 ?x86_64"

PROVIDES="
	beezer = $portVersion
	app:beezer = $portVersion
	"

REQUIRES="
	haiku >= $haikuVersion
	"

BUILD_REQUIRES="
	haiku_devel >= $haikuVersion
	"
BUILD_PREREQUIRES="
	cmake >= 2.8
	cmd:gcc
	cmd:make
	"

PATCHES="
	beezer-1.patch
	"

SOURCE_DIR="cpr-beezer-e6e2c619aa4a"

BUILD()
{
	cd Source
 	cmake .
 	make
}

INSTALL()
{
	cd Source/build
	mkdir -p $appsDir/Beezer/add-ons
	cp Beezer $appsDir/Beezer
	cp -a add-ons/* $appsDir/Beezer/add-ons
	addAppDeskbarSymlink $appsDir/Beezer/Beezer
	
	mkdir -p $appsDir/Tracker
	cp -a TrackerAddOn/BeezerAddOn $appsDir/Tracker
}
