SUMMARY="A programmer's editor" 
DESCRIPTION="A programmer's editor" 
HOMEPAGE="http://pe-editor.berlios.de/" 
LICENSE="
	BSD (4-clause)
	MIT
	"
COPYRIGHT="
	1996-2002 Maarteen Hekkelman
	2003-2012 Team Pe
	"
SRC_URI="hg+http://hg.berlios.de/repos/pe-editor"
REVISION="2"
ARCHITECTURES="x86_gcc2 ?x86"

DEPEND="dev-libs/libpcre >= 8.00"
PROVIDES="
	pe = $portVersion
	cmd:Pe = $portVersion compat >= 2
	cmd:lpe = $portVersion compat >= 2
	"

REQUIRES="
	haiku >= $haikuVersion
	lib:libpcre >= 8
	lib:libpcreposix >= 8
	"
BUILD_REQUIRES="
	cmd:gcc
	cmd:jam
	cmd:ld
	"
BUILD_PREREQUIRES="
	haiku_devel >= $haikuVersion
	"

SOURCE_DIR="$portVersionedName"

BUILD()
{
	jam
}

INSTALL()
{
	mkdir -p ${DESTDIR}/boot/apps
	cp -a generated/distro ${DESTDIR}/boot/apps/Pe
	cp -a doc ${DESTDIR}/boot/apps/Pe/Documentation
	rm -f ${DESTDIR}/boot/apps/Pe/.OptionalPackageDescription
	if [ -z "${DESTDIR}" ];then
		find /boot/apps/Pe -type d -name ".svn" | xargs rm -rf
	fi
}
