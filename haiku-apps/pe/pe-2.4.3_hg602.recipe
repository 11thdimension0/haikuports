SUMMARY="A programmer's editor" 
DESCRIPTION="A programmer's editor" 
HOMEPAGE="http://pe-editor.berlios.de/" 
LICENSE="
	BSD (4-clause)
	MIT
	"
COPYRIGHT="
	1996-2002 Maarteen Hekkelman
	2003-2012 Team Pe
	"
SRC_URI="hg+http://hg.berlios.de/repos/pe-editor#602"
REVISION="3"
ARCHITECTURES="x86_gcc2 ?x86"

PROVIDES="
	pe = $portVersion
	cmd:Pe = $portVersion compat >= 2
	cmd:lpe = $portVersion compat >= 2
	"

REQUIRES="
	haiku >= $haikuVersion
	lib:libpcre >= 8
	lib:libpcreposix >= 8
	"
BUILD_REQUIRES="
	$REQUIRES
	cmd:bison
	cmd:flex
	cmd:gcc
	cmd:jam
	cmd:ld
	"
BUILD_PREREQUIRES="
	haiku_devel >= $haikuVersion
	"

SOURCE_DIR="$portVersionedName"

BUILD()
{
	jam -q -j$jobs
}

INSTALL()
{
	apps=$prefix/apps
	mkdir -p $apps

	peBase=$apps/Pe
	cp -a generated/distro $peBase
	cp -a doc $peBase/Documentation
	
	mkdir $prefix/bin
	cd $prefix/bin
	ln -sfn ../apps/Pe/lpe .
}
