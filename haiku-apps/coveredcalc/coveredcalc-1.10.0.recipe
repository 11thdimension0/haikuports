SUMMARY="The desktop calculator which features a skin interface system."
DESCRIPTION="CoveredCalc is a desktop calculator whose look and feel is \
flexibly customizable. It works on Windows, BeOS, and Haiku. In this \
application the word \"cover\" means a set of files for its design, \
instead of the commonly used word \"skin\"."
HOMEPAGE="https://code.google.com/p/coveredcalc"
SRC_URI="svn+http://coveredcalc.googlecode.com/svn/trunk@72"
REVISION="1"
LICENSE="MIT"
ARCHITECTURES="x86_gcc2 ?x86"
COPYRIGHT="2008 hiron@with.memail.jp"

PROVIDES="
        coveredcalc = $portVersion
        app:CoveredCalc = $portVersion
        "

REQUIRES="
        haiku >= $haikuVersion
        "

BUILD_REQUIRES="
              haiku_devel
              cmd:make
              cmd:gcc
              cmd:xres
              cmd:wget
              cmd:unzip
              "
              
BUILD_PREREQUIRES="
                 cmd:svn
                 "

BUILD()
{
	cd Sources/CoveredCalc/CoveredCalcBe
	make release $jobArgs
	cd ../../..
	#download skin from Google Drive (source doesn't include a skin)
	wget http://googledrive.com/host/0BwHhdVuLdvajZDBXSXl0S1NMVWc/skin.zip
	unzip skin.zip
}

INSTALL()
{
	mkdir -p $appsDir/CoveredCalc/{NLS,Keymaps,Covers}
	cp Sources/CoveredCalc/CoveredCalcBe/obj.release/CoveredCalc $appsDir/CoveredCalc
	cp LangFiles/BeOS/* $appsDir/CoveredCalc/NLS
	cp KeyMappings/BeOS/* $appsDir/CoveredCalc/Keymaps
	cp -R default $appsDir/CoveredCalc/Covers
	addAppDeskbarSymlink $appsDir/CoveredCalc/CoveredCalc
}
