SUMMARY="Speech synthesizer for English and other languages"
DESCRIPTION="
	eSpeak is a compact open source software speech synthesizer \
	for English and other languages, for Linux and Windows.
	
	eSpeak uses a \"formant synthesis\" method. \
	This allows many languages to be provided in a small size. \
	The speech is clear, and can be used at high speeds, \
	but is not as natural or smooth as larger synthesizers \
	which are based on human speech recordings.
	"
HOMEPAGE="http://espeak.sourceforge.net/"
SRC_URI="http://sourceforge.net/projects/espeak/files/espeak/espeak-1.48/espeak-1.48.04-source.zip"
REVISION="1"
LICENSE="GNU GPL v3"
COPYRIGHT="2005-2014 Jonathan Duddington"

ARCHITECTURES="x86_gcc2 ?x86 ?x86_64"

PROVIDES="
	espeak = $portVersion
	cmd:espeak = $portVersion
	"
REQUIRES="
	haiku >= $haikuVersion
	"
BUILD_REQUIRES="
	haiku_devel >= $haikuVersion
	"
BUILD_PREREQUIRES="
	cmd:make
	cmd:gcc
	"

SOURCE_DIR="${portVersionedName}-source"

BUILD()
{
	cd src
	make LIB_STDCPP=-lstdc++.r4 \
		AUDIO=wave LIB_PTHREAD= \
		VISIBILITY_FLAG= \
		PREFIX=$prefix \
		DATADIR=$dataDir/espeak-data
}

INSTALL()
{
	cd src
	make LIB_STDCPP=-lstdc++.r4 \
		AUDIO=wave LIB_PTHREAD= \
		VISIBILITY_FLAG= \
		PREFIX=$prefix \
		DATADIR=$dataDir/espeak-data \
		install
}
