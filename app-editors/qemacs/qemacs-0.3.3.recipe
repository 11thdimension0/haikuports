SUMMARY="QEmacs editor"
DESCRIPTION="QEmacs (for Quick Emacs), a very small but powerful UNIX editor"
HOMEPAGE="http://bellard.org/qemacs/"
SRC_URI="http://bellard.org/qemacs/qemacs-0.3.3.tar.gz"
CHECKSUM_MD5="42fe8cc431bb9cbbeb898a2c18335990"
REVISION="1"
LICENSE="GNU LGPL v2.1"
COPYRIGHT="2000-2003 Fabrice Bellard"

DEPEND="app-text/texi2html >= 1.82"

ARCHITECTURES="x86_gcc2 x86 x86_64"
SECONDARY_ARCHITECTURES="x86_gcc2 x86"

PROVIDES="
	qemacs$secondaryArchSuffix = $portVersion
	app:qemacs$secondaryArchSuffix = $portVersion
	cmd:qemacs$secondaryArchSuffix = $portVersion
	cmd:qe$secondaryArchSuffix = $portVersion
	cmd:html2png$secondaryArchSuffix = $portVersion
	"
REQUIRES="
	haiku$secondaryArchSuffix >= $haikuVersion
	lib:libpng$secondaryArchSuffix
	lib:libjpeg$secondaryArchSuffix
#	lib:libavcodec$secondaryArchSuffix
#	lib:libavformat$secondaryArchSuffix
	"

BUILD_REQUIRES="
	devel:libpng$secondaryArchSuffix
#	devel:libavcodec$secondaryArchSuffix
#	devel:libavformat$secondaryArchSuffix
	"

BUILD_PREREQUIRES="
	haiku${secondaryArchSuffix}_devel >= $haikuVersion
	cmd:make
	cmd:gcc$secondaryArchSuffix
	cmd:ld$secondaryArchSuffix
	cmd:texi2html
	"

PATCHES="qemacs-0.3.3.patch"

BUILD()
{
	runConfigure ./configure
	make
}

INSTALL()
{
	make install
	addAppDeskbarSymlink $binDir/qe QEmacs
}

