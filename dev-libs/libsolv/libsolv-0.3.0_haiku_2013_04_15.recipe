SUMMARY="Library for solving packages and reading repositories"
DESCRIPTION="Library for solving packages and reading repositories."
HOMEPAGE="http://github.com/openSUSE/libsolv" 
SRC_URI="git+git://github.com/weinhold/libsolv.git#2fbe38d5d38facee568f24b19b51e03ad2e9e3a9"
REVISION="1"
ARCHITECTURES="x86_gcc2 ?x86"

PROVIDES="libsolv = $portVersion
	lib:libsolv = $portVersion
	lib:libsolvext = $portVersion"
REQUIRES="haiku >= $haikuVersion
	lib:libexpat >= 1.5"
BUILD_REQUIRES="lib:libexpat >= 1.5"
BUILD_PREREQUIRES="haiku-devel >= $haikuVersion
	cmd:cmake
	cmd:gcc
	cmd:ld
	cmd:make"

SOURCE_DIR="$portVersionedName"

BUILD()
{
	rm -rf build
	mkdir build
	cd build
	cmake -DCMAKE_INSTALL_PREFIX:PATH=$prefix ..
	make
}

INSTALL()
{
	cd build
	make install

	# We don't want the executables.
	rm -r $prefix/bin
}

LICENSE="BSD (3-clause)"
COPYRIGHT="2007-2013, Novell Inc."
