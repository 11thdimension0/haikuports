SUMMARY="Absolutely Wonderful C++ Library"
DESCRIPTION="
Claw is a generalist library written in C++ and providing various structures
and algorithms, like containers, string algorithms, tweeners, BÃ©zier curves and
more.

The story of Claw begins when I wanted to group all the small tools I have made
along my studies at the university. The library progress from time to time,
mostly when I need a new tool for Plee the Bear, a game I am actively working
on.

Claw wants to be standard compliant and as portable as possible. Of course,
because I'm currently the only developer, the task is a little bit difficult
and you could have some minor problems. If you experience any problem, please
let me know by contacting me.

Claw stands for \"C++ Library Absolutely Wonderful\".
"
HOMEPAGE="http://libclaw.sourceforge.net/" 
SRC_URI="http://sourceforge.net/projects/libclaw/files/libclaw/$portVersion/libclaw-$portVersion.tar.gz"
CHECKSUM_SHA256="0be289da7f43b1892575f14b27860af5d1e1f6961eae11653d64e625fd7924b7"

REVISION="1"
LICENSE="GNU LGPL v2.1"
COPYRIGHT="2008-2014 Julien Jorge"
ARCHITECTURES="x86 ?x86_64"
if [ $effectiveTargetArchitecture != x86_gcc2 ]; then
	ARCHITECTURES="$ARCHITECTURES x86_gcc2"
else
	ARCHITECTURES="$ARCHITECTURES !x86_gcc2"
fi
SECONDARY_ARCHITECTURES="x86"

PROVIDES="
	libclaw$secondaryArchSuffix = $portVersion
	lib:libclaw$secondaryArchSuffix
	cmd:claw_config
	"

REQUIRES="
	haiku$secondaryArchSuffix >= $haikuVersion
	lib:libpng$secondaryArchSuffix
	lib:libz$secondaryArchSuffix
	"

BUILD_REQUIRES="
	haiku${secondaryArchSuffix}_devel >= $haikuVersion
	devel:libjpeg$secondaryArchSuffix
	devel:libpng$secondaryArchSuffix
	devel:libz$secondaryArchSuffix
	boost_devel${secondaryArchSuffix}
	"

BUILD_PREREQUIRES="
	cmd:gcc$secondaryArchSuffix
	cmd:ld$secondaryArchSuffix
	cmd:cmake
	cmd:make
	cmd:gettext
	"

PATCHES="libclaw-$portVersion.patchset"
BUILD()
{
	cmake . -DCMAKE_INSTALL_PREFIX=$prefix
	make $jobArgs
}

INSTALL()
{
	make install

	packageEntries devel $developDir $libDir/libclaw/
}

TEST() {
	true
}

PROVIDES_devel="
	libclaw${secondaryArchSuffix}_devel = $portVersion
	devel:libclaw$secondaryArchSuffix
	"

REQUIRES_devel="
	haiku$secondaryArchSuffix >= $haikuVersion
	libclaw$secondaryArchSuffix == $portVersion base
	"
