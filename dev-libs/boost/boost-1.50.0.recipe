DESCRIPTION="boost" 
HOMEPAGE="http://www.boost.org/" 
SRC_URI="http://sourceforge.net/projects/boost/files/boost/1.50.0/boost_1_50_0.tar.bz2/download"
CHECKSUM_MD5="52dd00be775e689f55a987baebccc462"
REVISION="1"
STATUS_HAIKU="stable"
MESSAGE="This port only builds with gcc4. Use 'setgcc gcc4' before building."
DEPEND="boehm-gc"
BUILD()
{
	cd boost_1_50_0
	./bootstrap.sh \
		--without-icu \
		--prefix=`finddir B_COMMON_DIRECTORY` \
		--exec-prefix=`finddir B_COMMON_BIN_DIRECTORY` \
		--libdir=`finddir B_COMMON_LIB_DIRECTORY` \
		--includedir=`finddir B_COMMON_HEADERS_DIRECTORY` 
	./bjam \
		 -sICU_PATH=`finddir B_COMMON_DIRECTORY` \
		 -sICONV_PATH=`finddir B_COMMON_DIRECTORY` \
		-d2 \
		--without-mpi \
		--prefix=`finddir B_COMMON_DIRECTORY` \
		--exec-prefix=`finddir B_COMMON_BIN_DIRECTORY` \
		--libdir=`finddir B_COMMON_LIB_DIRECTORY` \
		--includedir=`finddir B_COMMON_HEADERS_DIRECTORY` \
		--enable-threads=posix \
		--enable-thread-local-alloc \
		--enable-parallel-mark \
		inlining=on \
		linkflags=-L`finddir B_COMMON_LIB_DIRECTORY` \
		threading=multi \
		variant=release \
		link=shared \
		runtime-link=shared
}

INSTALL()
{
	cd boost_1_50_0
	./bjam install \
		-d2 \
		--prefix=${DESTDIR}/`finddir B_COMMON_DIRECTORY` \
		#--exec-prefix=${DESTDIR}/`finddir B_COMMON_BIN_DIRECTORY` \
		#--libdir=${DESTDIR}/`finddir B_COMMON_LIB_DIRECTORY` \		
		#--includedir=${DESTDIR}/`finddir B_COMMON_HEADERS_DIRECTORY` \
		inlining=on \
		--without-mpi 
}

LICENSE="Boost v1.0"
COPYRIGHT="1998-2011 Beman Dawes, David Abrahams, Rene Rivera, et al."
